# 安全政策

## 支持的版本

当前支持安全更新的版本：

| 版本 | 支持状态 |
| ---- | -------- |
| 1.0.x | ✅ 支持 |

## 报告安全漏洞

如果您发现安全漏洞，**请不要**创建公开的 Issue。

### 报告流程

1. **发送邮件**至: security@feishumind.com
2. **包含以下信息**:
   - 漏洞描述
   - 影响范围
   - 复现步骤
   - 建议的修复方案（如果有）

### 响应承诺

- 🔒 **确认收到**: 48 小时内
- 🔍 **开始调查**: 72 小时内
- 🛠️ **发布修复**: 根据严重程度，通常 7-14 天

### 漏洞评级

我们将使用 [CVSS v3.1](https://www.first.org/cvss/calculator/3.1) 标准评估漏洞严重程度：

| 等级 | CVSS 分数 | 响应时间 |
| ---- | --------- | -------- |
| 🔴 严重 | 9.0-10.0 | 48 小时 |
| 🟠 高危 | 7.0-8.9 | 7 天 |
| 🟡 中危 | 4.0-6.9 | 14 天 |
| 🟢 低危 | 0.1-3.9 | 下个版本 |

### 奖励

- 🎖️ **荣誉证书** - 在我们的安全贡献者名单中列出
- 💬 **优先反馈** - 提前体验新功能
- 🎁 **特别奖励** - 严重漏洞可获得 FeishuMind 会员资格

## 安全最佳实践

### 对于用户

1. **环境变量**
   - 使用强密码和随机生成的密钥
   - 定期轮换 API Keys
   - 不要在生产环境使用默认密钥

2. **部署安全**
   - 启用 HTTPS
   - 配置防火墙规则
   - 定期更新依赖

3. **数据隐私**
   - 敏感数据存储在本地
   - 不要上传个人身份信息
   - 定期备份数据

### 对于开发者

1. **代码安全**
   - 遵循 [开发规范](./docs/spec/03-coding-standards.md)
   - 使用预提交 hooks 检查敏感信息
   - 不在代码中硬编码凭据

2. **依赖管理**
   - 使用 `pip-audit` 检查依赖漏洞
   - 及时更新安全补丁
   - 审查新引入的依赖

3. **测试**
   - 编写安全测试用例
   - 进行渗透测试
   - 使用自动化安全扫描

## 安全架构

### 数据保护

| 数据类型 | 存储位置 | 加密方式 |
|---------|---------|---------|
| 环境变量 | 本地文件 | 否（文件权限） |
| 数据库 | SQLite/PostgreSQL | 可选 |
| API 密钥 | 环境变量 | 否 |
| 对话历史 | 本地文件 | 可选 |

### 访问控制

- **API 认证**: JWT Token
- **Webhook**: 飞书签名验证
- **敏感操作**: 人工确认守门员

### 网络安全

- **HTTPS**: 生产环境强制使用
- **CORS**: 限制允许的来源
- **速率限制**: 防止滥用

## 安全更新

### 更新通知

安全更新将通过以下渠道发布：

- 📢 GitHub Releases
- 📧 邮件通知（订阅者）
- 📱 飞书官方账号

### 更新流程

1. 发布安全补丁版本
2. 更新 CHANGELOG.md
3. 发送安全公告
4. 更新文档

## 联系方式

- **安全团队**: security@feishumind.com
- **PGP 公钥**: [下载](https://feishumind.com/pgp-public-key)
- **GitHub Security**: [报告漏洞](https://github.com/iqvpi1024/feishumind/security/advisories)

---

**感谢您帮助保护 FeishuMind 和我们的用户！** 🛡️
