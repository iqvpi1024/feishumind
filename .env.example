# ==========================================
# FeishuMind 环境变量配置模板
# ==========================================
# 使用方法：
# 1. 复制本文件为 .env
# 2. 填入真实的配置值
# 3. 确保 .env 已加入 .gitignore
# ==========================================

# 应用基础配置
APP_NAME=FeishuMind
DEBUG=false
VERSION=1.0.0
ENVIRONMENT=development

# 服务器配置
HOST=0.0.0.0
PORT=8000

# 飞书配置
# 获取方式：https://open.feishu.cn/app
FEISHU_APP_ID=cli_xxxxxxxxxxxxx
FEISHU_APP_SECRET=xxxxxxxxxxxxxxxxxxxxxxxx
FEISHU_VERIFICATION_TOKEN=xxxxxxxxxxxxxxxx
FEISHU_ENCRYPT_KEY=xxxxxxxxxxxxxxxx

# 飞书 API 配置
FEISHU_API_BASE_URL=https://open.feishu.cn

# AI 模型配置
# Claude API (Anthropic)
CLAUDE_API_KEY=sk-ant-xxxxxxxxxxxxxxxx
CLAUDE_MODEL=claude-3-5-sonnet-20241022
MAX_TOKENS_PER_USER=5000

# 本地模型配置（可选，用于成本优化）
LOCAL_MODEL_ENABLED=false
LOCAL_MODEL_PATH=/models/llama-3-8b-q4.gguf

# 记忆层配置 (Mem0)
MEM0_API_KEY=xxxxxxxxxxxxxxxx
MEM0_BASE_URL=https://api.mem0.ai
VECTOR_DB=faiss  # faiss | pinecone
EMBEDDING_MODEL=BAAI/bge-small-zh-v1.5

# 数据库配置
DATABASE_URL=sqlite:///./feishumind.db
# 生产环境使用 PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost:5432/feishumind

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# GitHub API（用于 Trending 功能）
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxx
GITHUB_API_BASE_URL=https://api.github.com

# 定时任务配置
ENABLE_SCHEDULER=true
GITHUB_TRENDING_TIME=0 9 * * *  # 每天 9 点

# 日志配置
LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR
LOG_FILE=logs/feishumind.log

# 监控配置
SENTRY_DSN=https://xxxxxxxxxxxxxxxx.ingest.sentry.io/xxxxx
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# 安全配置
SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600  # 1 hour

# CORS 配置
ALLOWED_ORIGINS=["https://open.feishu.cn", "http://localhost:3000"]

# 速率限制
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=30

# 功能开关
ENABLE_PROACTIVE_MODE=true  # 主动模式（Agent 建议新技能）
ENABLE_HUMAN_APPROVAL=true  # 人工确认（守门员机制）
ENABLE_EMOTION_TRACKING=true  # 情绪追踪

# Skill Pack 配置
SKILL_PACK_DIR=./skill_packs
ENABLE_SKILL_STORE=false  # 商业版功能

# 备份配置
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7
BACKUP_TIME=0 2 * * *  # 每天凌晨 2 点

# 实验性功能（谨慎启用）
EXPERIMENTAL_FEATURES=false
LOCAL_MODEL_ONLY=false  # 仅使用本地模型

# ==========================================
# 开发提示
# ==========================================
# 1. 敏感信息不要提交到 Git
# 2. 生产环境务必修改 SECRET_KEY
# 3. 开启 DEBUG 模式会暴露敏感信息
# 4. 定期轮换 API Keys
# ==========================================
