# FeishuMind 文档索引

**最后更新**: 2026-02-06

本文档索引帮助你快速找到 FeishuMind 项目的所有规范和任务文档。

---

## 📚 文档结构

```
docs/
├── README.md (本文件)
├── current-status.md        # 🔄 当前会话状态（恢复入口）
├── session-recovery-demo.md # 📖 会话恢复演示
├── spec/                    # 规范文档
│   ├── 00-overview.md      # 项目总览
│   ├── 01-architecture.md  # 技术架构
│   ├── 02-api-spec.md      # API 接口规范
│   └── 03-coding-standards.md  # 开发规范
├── todo/                    # 任务追踪
│   ├── roadmap.md          # 总体路线图
│   └── weekly-sprint.md    # 本周 Sprint
└── archive/                # 历史文档 (暂无)
```

---

## 🎖️ 快速导航

### 📋 规范文档 (Spec)

| 文档 | 描述 | 读者 | 更新频率 |
|------|------|------|---------|
| [项目总览](./spec/00-overview.md) | 项目定位、商业模式、风险管理 | 所有人 | 每月 |
| [技术架构](./spec/01-architecture.md) | 系统设计、技术栈、部署架构 | 开发者 | 每周 |
| [API 接口](./spec/02-api-spec.md) | 接口定义、认证、错误码 | 开发者 | 按需 |
| [开发规范](./spec/03-coding-standards.md) | 代码风格、测试、提交规范 | 开发者 | 稳定 |

### 📝 任务追踪 (TODO)

| 文档 | 描述 | 更新频率 |
|------|------|---------|
| [总体路线图](./todo/roadmap.md) | 6 个阶段的详细任务 | 每周 |
| [本周 Sprint](./todo/weekly-sprint.md) | Week 1 的每日站会记录 | 每天 |

### 🔄 会话恢复

| 文档 | 描述 | 重要性 |
|------|------|--------|
| [当前会话状态](./current-status.md) | **最重要**：当前任务和进度恢复入口 | 🔴 必须 |
| [会话恢复演示](./session-recovery-demo.md) | 如何在上下文丢失后恢复工作 | 🟡 推荐 |

---

## 🔄 会话恢复机制

**重要**: 当上下文满了或连接断开时，使用此流程快速恢复工作。

### 🚨 症状
- 上下文达到 Token 限制
- 网络连接中断
- 重新启动 Claude Code
- 切换到新的会话

### 🔄 恢复流程（标准 4 步）

```
1. 阅读 current-status.md
   ↓
2. 确认当前任务和进度
   ↓
3. 询问用户 "是否继续 [任务名称]？"
   ↓
4. 继续执行 → 完成后更新状态
```

### 📋 具体操作

**对于 Claude Code (AI 助手)**:
```python
# 新会话启动时自动执行：
1. 读 docs/current-status.md
2. 读 docs/spec 相关规范
3. 读 docs/todo/weekly-sprint.md
4. 输出："已恢复会话，当前任务：W1-01 FastAPI 基础框架 (60%)"
5. 询问："是否继续？"
```

**对于人类用户**:
```bash
# 只需说：
"继续任务"           # 继续当前任务
"跳到 W1-02"        # 跳到下一个任务
"查看进度"          # 显示整体进度
"重置状态"          # 重置当前任务
```

### 💾 会话存档

每次结束会话前，必须更新 `docs/current-status.md`：
- 最后更新时间
- 当前任务 ID
- 完成进度百分比
- 遇到的问题
- 下一步行动

**存档格式**:
```markdown
## 🔄 进行中
- **任务**: W1-01 FastAPI 基础框架
- **进度**: 60% (3/5 子任务完成)
- **已完成**: [✅] 创建应用, [✅] 配置 CORS
- **进行中**: [🔄] 健康检查端点
- **下一步**: 完成日志中间件
```

### ⚠️ 注意事项

1. **时间验证**: 如果 `current-status.md` 最后更新超过 24 小时，询问用户"任务是否还有效？"
2. **冲突检测**: 如果 TODO 与 current-status 不一致，以 TODO 为准
3. **状态同步**: 每完成一个子任务，同时更新 `current-status.md` 和 `weekly-sprint.md`

### 📁 相关文件

- [当前会话状态](./current-status.md) - **最重要的恢复入口**
- [总体路线图](./todo/roadmap.md) - 查看所有阶段
- [本周 Sprint](./todo/weekly-sprint.md) - 查看本周任务

---

## 🚀 快速开始

### 对于 Claude Code (AI 助手)

当你接收到指令 **"阅读所有文档，继续任务"** 时，按以下顺序阅读：

1. **先读规范**:
   - [项目总览](./spec/00-overview.md) - 了解项目目标
   - [技术架构](./spec/01-architecture.md) - 理解系统设计
   - [开发规范](./spec/03-coding-standards.md) - 遵循代码标准

2. **再读任务**:
   - [总体路线图](./todo/roadmap.md) - 查看当前阶段
   - [本周 Sprint](./todo/weekly-sprint.md) - 找到下一个任务

3. **执行原则**:
   - ✅ 每次只做一个任务 (按优先级 P0 > P1 > P2)
   - ✅ 完成后更新任务状态 `[PENDING]` → `[IN_PROGRESS]` → `[DONE]`
   - ✅ 遇到问题记录到"遇到的问题"表格
   - ✅ 每个任务完成后更新"进度百分比"

### 对于人类开发者

**首次阅读**:
1. 从 [项目总览](./spec/00-overview.md) 开始
2. 阅读 [技术架构](./spec/01-architecture.md) 了解设计
3. 查看 [总体路线图](./todo/roadmap.md) 了解进度

**日常开发**:
1. 每天早上查看 [本周 Sprint](./todo/weekly-sprint.md) 的"每日站会记录"
2. 参考 [开发规范](./spec/03-coding-standards.md) 编写代码
3. 完成任务后更新 TODO 文档

---

## 📖 文档说明

### Spec 文档 (规范)

**作用**: 定义项目的"规则"和"标准"，防止跑偏。

**何时阅读**:
- 开发新功能前，读对应 Spec 章节
- 代码审查时，检查是否违反规范
- 技术决策时，参考架构设计

**何时更新**:
- 新增功能模块 → 更新架构文档
- 接口变更 → 更新 API Spec
- 发现更好的实践 → 更新开发规范

### TODO 文档 (任务)

**作用**: 追踪项目进度，管理开发任务。

**何时阅读**:
- 每天开始工作时，查看当前任务
- 完成任务后，查看下一个优先级
- 遇到阻塞时，查看风险列表

**何时更新**:
- **每次任务开始**: 将状态改为 `[IN_PROGRESS]`
- **每次任务完成**: 改为 `[DONE]`，更新进度条
- **每天结束**: 更新"每日站会记录"
- **每周结束**: 创建新的 Sprint 文档

---

## 🎯 当前状态

**最后更新**: 2026-02-06

**当前阶段**: 🟡 Phase 2 核心开发 (Week 1)

**进度**:
```
Phase 1: ✅ 项目初始化 (100%)
Phase 2: 🔄 核心开发 (15%)
  ├─ ✅ 项目依赖安装
  ├─ 🔄 FastAPI 基础框架 (进行中)
  ├─ ⏳ 记忆层实现 (待开始)
  ├─ ⏳ LangGraph Agent (待开始)
  └─ ⏳ 飞书 Webhook (待开始)
```

**下一步**: 完成 W1-01 FastAPI 基础框架

---

## 🔄 更新日志

| 日期 | 更新内容 | 文件 |
|------|---------|------|
| 2026-02-06 | 创建文档系统和索引 | README.md |

---

## 💡 最佳实践

### 防跑偏规则 (针对 Claude Code)

1. **开始任何任务前**:
   - ✅ 检查 [总体路线图](./todo/roadmap.md)，确认任务优先级
   - ✅ 阅读 [开发规范](./spec/03-coding-standards.md)，遵循代码标准
   - ✅ 如果需求不明确，立即提问澄清

2. **任务执行中**:
   - ✅ 一次只做一个任务，避免多任务切换
   - ✅ 遇到偏差立即停止，参考 Spec 文档
   - ✅ 记录遇到的问题到 Sprint 文档

3. **任务完成后**:
   - ✅ 更新 TODO 文档的状态和进度
   - ✅ 检查是否违反规范 (lint/test)
   - ✅ 建议下一步任务给用户

---

## 📞 联系方式

- **项目仓库**: [GitHub](https://github.com/your-repo/feishumind)
- **文档维护**: Claude Code + 人工审核
- **问题反馈**: [GitHub Issues](https://github.com/your-repo/feishumind/issues)

---

**祝你开发愉快！** 🚀
